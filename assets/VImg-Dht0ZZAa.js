import{p as k,m as x,b as X,g as V,z as Y,h as B,i as s,R as p,S as ee,e as b,az as te,aZ as z,b1 as W,b2 as ne,b3 as ae,b4 as re,ag as se,aP as le,K as M,aQ as oe,aj as ie,b0 as q,t as ue,a1 as ce,s as h,B as de,D as T,ap as ve,$ as ge,G as fe,T as D,U as me,F as be,j as Se,au as ye}from"./index-DTvIaUW2.js";const Ce=k({fluid:{type:Boolean,default:!1},...x(),...X()},"VContainer"),Ve=V()({name:"VContainer",props:Ce(),setup(e,a){let{slots:n}=a;const{rtlClasses:t}=Y();return B(()=>s(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},t.value,e.class],style:e.style},n)),{}}});function _e(e){return{aspectStyles:b(()=>{const a=Number(e.aspectRatio);return a?{paddingBottom:String(1/a*100)+"%"}:void 0})}}const A=k({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...x(),...p()},"VResponsive"),E=V()({name:"VResponsive",props:A(),setup(e,a){let{slots:n}=a;const{aspectStyles:t}=_e(e),{dimensionStyles:i}=ee(e);return B(()=>{var c;return s("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[i.value,e.style]},[s("div",{class:"v-responsive__sizer",style:t.value},null),(c=n.additional)==null?void 0:c.call(n),n.default&&s("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function H(e){return te(()=>{const a=[],n={};if(e.value.background)if(W(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&ne(e.value.background)){const t=ae(e.value.background);if(t.a==null||t.a===1){const i=re(t);n.color=i,n.caretColor=i}}}else a.push(`bg-${e.value.background}`);return e.value.text&&(W(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):a.push(`text-${e.value.text}`)),{colorClasses:a,colorStyles:n}})}function Be(e,a){const n=b(()=>({text:z(e)?e.value:a?e[a]:null})),{colorClasses:t,colorStyles:i}=H(n);return{textColorClasses:t,textColorStyles:i}}function he(e,a){const n=b(()=>({background:z(e)?e.value:a?e[a]:null})),{colorClasses:t,colorStyles:i}=H(n);return{backgroundColorClasses:t,backgroundColorStyles:i}}const ke=k({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Re(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se();return{roundedClasses:b(()=>{const t=z(e)?e.value:e.rounded,i=z(e)?e.value:e.tile,c=[];if(t===!0||t==="")c.push(`${a}--rounded`);else if(typeof t=="string"||t===0)for(const f of String(t).split(" "))c.push(`rounded-${f}`);else(i||t===!1)&&c.push("rounded-0");return c})}}const ze=k({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),R=(e,a)=>{let{slots:n}=a;const{transition:t,disabled:i,group:c,...f}=e,{component:g=c?oe:ie,...S}=typeof t=="object"?t:{};return le(g,M(typeof t=="string"?{name:i?"":t}:S,typeof t=="string"?{}:Object.fromEntries(Object.entries({disabled:i,group:c}).filter(l=>{let[o,v]=l;return v!==void 0})),f),n)};function Pe(e,a){if(!q)return;const n=a.modifiers||{},t=a.value,{handler:i,options:c}=typeof t=="object"?t:{handler:t,options:{}},f=new IntersectionObserver(function(){var v;let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],S=arguments.length>1?arguments[1]:void 0;const l=(v=e._observe)==null?void 0:v[a.instance.$.uid];if(!l)return;const o=g.some(y=>y.isIntersecting);i&&(!n.quiet||l.init)&&(!n.once||o||l.init)&&i(o,g,S),o&&n.once?G(e,a):l.init=!0},c);e._observe=Object(e._observe),e._observe[a.instance.$.uid]={init:!1,observer:f},f.observe(e)}function G(e,a){var t;const n=(t=e._observe)==null?void 0:t[a.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[a.instance.$.uid])}const Ie={mounted:Pe,unmounted:G},Te=k({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...A(),...x(),...ke(),...ze()},"VImg"),je=V()({name:"VImg",directives:{intersect:Ie},props:Te(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,a){let{emit:n,slots:t}=a;const{backgroundColorClasses:i,backgroundColorStyles:c}=he(ue(e,"color")),{roundedClasses:f}=Re(e),g=ce("VImg"),S=h(""),l=de(),o=h(e.eager?"loading":"idle"),v=h(),y=h(),d=b(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),C=b(()=>d.value.aspect||v.value/y.value||0);T(()=>e.src,()=>{P(o.value!=="idle")}),T(C,(r,u)=>{!r&&u&&l.value&&_(l.value)}),ve(()=>P());function P(r){if(!(e.eager&&r)&&!(q&&!r&&!e.eager)){if(o.value="loading",d.value.lazySrc){const u=new Image;u.src=d.value.lazySrc,_(u,null)}d.value.src&&ge(()=>{var u;n("loadstart",((u=l.value)==null?void 0:u.currentSrc)||d.value.src),setTimeout(()=>{var m;if(!g.isUnmounted)if((m=l.value)!=null&&m.complete){if(l.value.naturalWidth||w(),o.value==="error")return;C.value||_(l.value,null),o.value==="loading"&&j()}else C.value||_(l.value),$()})})}}function j(){var r;g.isUnmounted||($(),_(l.value),o.value="loaded",n("load",((r=l.value)==null?void 0:r.currentSrc)||d.value.src))}function w(){var r;g.isUnmounted||(o.value="error",n("error",((r=l.value)==null?void 0:r.currentSrc)||d.value.src))}function $(){const r=l.value;r&&(S.value=r.currentSrc||r.src)}let I=-1;fe(()=>{clearTimeout(I)});function _(r){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const m=()=>{if(clearTimeout(I),g.isUnmounted)return;const{naturalHeight:U,naturalWidth:F}=r;U||F?(v.value=F,y.value=U):!r.complete&&o.value==="loading"&&u!=null?I=window.setTimeout(m,u):(r.currentSrc.endsWith(".svg")||r.currentSrc.startsWith("data:image/svg+xml"))&&(v.value=1,y.value=1)};m()}const N=b(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),L=()=>{var m;if(!d.value.src||o.value==="idle")return null;const r=s("img",{class:["v-img__img",N.value],style:{objectPosition:e.position},src:d.value.src,srcset:d.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:l,onLoad:j,onError:w},null),u=(m=t.sources)==null?void 0:m.call(t);return s(R,{transition:e.transition,appear:!0},{default:()=>[D(u?s("picture",{class:"v-img__picture"},[u,r]):r,[[ye,o.value==="loaded"]])]})},K=()=>s(R,{transition:e.transition},{default:()=>[d.value.lazySrc&&o.value!=="loaded"&&s("img",{class:["v-img__img","v-img__img--preload",N.value],style:{objectPosition:e.position},src:d.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),Q=()=>t.placeholder?s(R,{transition:e.transition,appear:!0},{default:()=>[(o.value==="loading"||o.value==="error"&&!t.error)&&s("div",{class:"v-img__placeholder"},[t.placeholder()])]}):null,Z=()=>t.error?s(R,{transition:e.transition,appear:!0},{default:()=>[o.value==="error"&&s("div",{class:"v-img__error"},[t.error()])]}):null,J=()=>e.gradient?s("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,O=h(!1);{const r=T(C,u=>{u&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{O.value=!0})}),r())})}return B(()=>{const r=E.filterProps(e);return D(s(E,M({class:["v-img",{"v-img--booting":!O.value},i.value,f.value,e.class],style:[{width:Se(e.width==="auto"?v.value:e.width)},c.value,e.style]},r,{aspectRatio:C.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>s(be,null,[s(L,null,null),s(K,null,null),s(J,null,null),s(Q,null,null),s(Z,null,null)]),default:t.default}),[[me("intersect"),{handler:P,options:e.options},null,{once:!0}]])}),{currentSrc:S,image:l,state:o,naturalWidth:v,naturalHeight:y}}});export{Ie as I,R as M,je as V,Re as a,Ve as b,E as c,Be as d,ze as e,H as f,ke as m,he as u};
